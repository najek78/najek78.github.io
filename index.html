<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Złote Heimerki 2026</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at center, #0b1b3a, #020817);
  color: #D3AF37;
  font-family: 'Cinzel', serif;
  background:
    radial-gradient(circle at center, #0b1b3a 0%, #020817 75%),
    radial-gradient(circle at center, rgba(0,0,0,0.6), transparent 70%);
}

body::before {
  content: "";
  position: fixed;
  top: 40%;
  left: 50%;
  width: 900px;
  height: 900px;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(255,215,0,0.15), transparent 70%);
  pointer-events: none;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;

  background-image:

    
    radial-gradient(1px 1px at 10% 20%, rgba(255,215,0,0.5), transparent),
    radial-gradient(1px 1px at 30% 80%, rgba(255,215,0,0.5), transparent),
    radial-gradient(1px 1px at 60% 40%, rgba(255,215,0,0.5), transparent),
    radial-gradient(1px 1px at 80% 70%, rgba(255,215,0,0.5), transparent),
    radial-gradient(1px 1px at 50% 10%, rgba(255,215,0,0.5), transparent),

    
    radial-gradient(2px 2px at 20% 60%, rgba(255,215,0,0.7), transparent),
    radial-gradient(2px 2px at 75% 25%, rgba(255,215,0,0.7), transparent),
    radial-gradient(2px 2px at 40% 50%, rgba(255,215,0,0.7), transparent),

    
    radial-gradient(3px 3px at 65% 75%, rgba(255,215,0,0.9), transparent),
    radial-gradient(3px 3px at 15% 40%, rgba(255,215,0,0.9), transparent);
}


.stars {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}


.stars::before {
  content: "";
  position: absolute;
  width: 1px;
  height: 1px;
  background: transparent;

  box-shadow:
    100px 200px #D3AF37, 300px 400px #D3AF37, 500px 150px #D3AF37,
    800px 600px #D3AF37, 1200px 300px #D3AF37, 1600px 500px #D3AF37,
    200px 900px #D3AF37, 700px 120px #D3AF37, 900px 800px #D3AF37,
    1300px 200px #D3AF37, 1500px 700px #D3AF37, 50px 600px #D3AF37,
    250px 100px #D3AF37, 450px 900px #D3AF37, 650px 300px #D3AF37,
    850px 500px #D3AF37, 1050px 700px #D3AF37, 1250px 900px #D3AF37,
    1450px 200px #D3AF37, 1650px 400px #D3AF37, 1850px 600px #D3AF37;
}


.stars::after {
  content: "";
  position: absolute;
  width: 2px;
  height: 2px;
  background: transparent;

  box-shadow:
    200px 300px rgba(255,215,0,0.9),
    600px 700px rgba(255,215,0,0.9),
    1000px 500px rgba(255,215,0,0.9),
    1400px 800px rgba(255,215,0,0.9),
    1700px 200px rgba(255,215,0,0.9);
}

.stars2 {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

.stars2::before {
  content: "";
  position: absolute;
  width: 2px;
  height: 2px;
  background: transparent;

  box-shadow:
    150px 350px #D3AF37,
    450px 650px #D3AF37,
    750px 250px #D3AF37,
    1150px 550px #D3AF37,
    1450px 150px #D3AF37,
    1750px 450px #D3AF37;

  animation: twinkle 7s infinite alternate;
}


.logo {
  position: fixed;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 560px;
  max-width: 90vw;
  filter:
    drop-shadow(0 0 25px rgba(255,215,0,0.5))
    drop-shadow(0 0 60px rgba(255,215,0,0.3));
  pointer-events: none;
}


.ui {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
}


button {
  background: #D3AF37;
  color: #0b1b3a;
  border: none;
  padding: 14px 32px;
  font-size: 18px;
  border-radius: 14px;
  cursor: pointer;
  transition: 0.2s;
  margin: 10px;
  font-family: 'Cinzel', serif;
  font-weight: bold;
  letter-spacing: 1px;
}

button:hover {
  background: #ffd700;
  transform: scale(1.06);
}


.avatar {
  width: 110px;
  border-radius: 50%;
  margin: 20px 0;
  border: 4px solid #D3AF37;
}

.ui {
  animation: fadeIn 1.2s ease forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, 20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

body::after {
  animation: twinkle 6s infinite alternate;
}

@keyframes twinkle {
  from { opacity: 0.7; }
  to   { opacity: 1; }
}

.stars::before {
  animation: twinkle 3s infinite alternate;
}

.stars::after {
  animation: twinkle 5s infinite alternate;
}

@keyframes twinkle {
  0%   { opacity: 0.3; }
  50%  { opacity: 1; }
  100% { opacity: 0.4; }
}

</style>
</head>

<body>
<div class="stars"></div>
<div class="stars2"></div>



<img src="logo.png" class="logo">


<div class="ui">

  <button id="login">Zaloguj przez Discord</button>

  <div id="user"></div>

</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
const { createClient } = supabase;

const supabaseClient = createClient(
  "https://vxbdvwjxudlxybnfsugn.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ4YmR2d2p4dWRseHlibmZzdWduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExODQyODEsImV4cCI6MjA4Njc2MDI4MX0.ZJG2DTwhcj8nG9eyUN1B3Zuf2IFIIZcq1rYpsYptrBk"
);


document.getElementById("login").onclick = async () => {
  await supabaseClient.auth.signInWithOAuth({
    provider: "discord"
  });
};


supabaseClient.auth.onAuthStateChange(async (event, session) => {
  if (session?.user) {
    showUser(session.user);
  }
});


async function loadUser() {
  const { data: { user } } = await supabaseClient.auth.getUser();
  if (user) showUser(user);
}


async function showUser(user) {
  document.getElementById("login").style.display = "none";

  const avatar = user.user_metadata.avatar_url;
  const name = user.user_metadata.full_name;

  document.getElementById("user").innerHTML = `
    <img src="${avatar}" class="avatar">
    <p>Zalogowano jako ${name}</p>
    <br>
    <button onclick="goToCategories()">Przejdź do kategorii</button>
    <br>
    <button onclick="logout()">Wyloguj</button>
  `;

  
  await supabaseClient.from("users").upsert({
    id: user.id,
    username: name,
    avatar_url: avatar
  });
}


async function logout() {
  await supabaseClient.auth.signOut();
  window.location.reload();
}

loadUser();


function goToCategories() {
  window.location.href = "categories.html";
}
</script>

</body>
</html>

